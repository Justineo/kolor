<!DOCTYPE html>  <html> <head>   <title>kolor.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               kolor.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">scope</span><span class="p">)</span> <span class="p">{</span>
</pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <h2>Utilities</h2>             </td>             <td class="code">               <div class="highlight"><pre>

    <span class="kd">var</span> <span class="nx">utils</span> <span class="o">=</span> <span class="p">{</span>
</pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <h3>Object utils</h3>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Checks if the given value is a number.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">isNumber</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s1">&#39;[object Number]&#39;</span> <span class="o">==</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nb">isFinite</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">},</span>

</pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Checks if the given value is a string.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">isString</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="s1">&#39;[object String]&#39;</span> <span class="o">==</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
        <span class="p">},</span>

</pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Retrieves the type of the given value.</p>

<p>Return value can be 'String', 'Number', 'Object', 'Array', ...</p>

<p><em>Result might be different among browsers.</em></p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">typeOf</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">value</span><span class="p">).</span><span class="nx">slice</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="p">},</span>

</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Shorthand method for Object.prototype.hasOwnProperty.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">has</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">key</span><span class="p">);</span>
        <span class="p">},</span>


</pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <h3>Array utils</h3>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-9">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-9">&#182;</a>               </div>               <p>Slices any array-ish object.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">slice</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">arrayish</span><span class="p">,</span> <span class="nx">begin</span><span class="p">,</span> <span class="nx">end</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arrayish</span><span class="p">,</span> <span class="nx">begin</span><span class="p">,</span> <span class="nx">end</span><span class="p">);</span>
        <span class="p">},</span>

</pre></div>             </td>           </tr>                               <tr id="section-10">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-10">&#182;</a>               </div>               <p>Swaps two array elements.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">swap</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">k</span> <span class="o">=</span> <span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
            <span class="nx">items</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">items</span><span class="p">[</span><span class="nx">j</span><span class="p">];</span>
            <span class="nx">items</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="o">=</span> <span class="nx">k</span><span class="p">;</span>
        <span class="p">},</span>

</pre></div>             </td>           </tr>                               <tr id="section-11">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-11">&#182;</a>               </div>               <p>Shuffles the given array using
<a href="http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle">Fisher-Yates shuffle</a>.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">shuffle</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">items</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">items</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
    
            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">l</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">--</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">j</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
                <span class="nx">utils</span><span class="p">.</span><span class="nx">swap</span><span class="p">(</span><span class="nx">items</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">},</span>

</pre></div>             </td>           </tr>                               <tr id="section-12">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-12">&#182;</a>               </div>               <p>Iterates through the given array and produces a new array by mapping each value through
a given function.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">map</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">source</span><span class="p">,</span> <span class="nx">callback</span><span class="p">,</span> <span class="nx">opt_this</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">results</span> <span class="o">=</span> <span class="p">[],</span>
                <span class="nx">l</span> <span class="o">=</span> <span class="nx">source</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
                <span class="nx">i</span> <span class="o">=</span> <span class="nx">l</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="nx">i</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">results</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">opt_this</span> <span class="o">||</span> <span class="nx">source</span><span class="p">,</span> <span class="nx">source</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span> <span class="nx">i</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">results</span><span class="p">;</span>
        <span class="p">},</span>


</pre></div>             </td>           </tr>                               <tr id="section-13">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-13">&#182;</a>               </div>               <h3>Number utils</h3>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-14">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-14">&#182;</a>               </div>               <p>Clamps a number to a given range.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">clamp</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">min</span> <span class="o">&gt;</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">max</span> <span class="o">=</span> <span class="nx">min</span> <span class="o">+</span> <span class="nx">max</span><span class="p">;</span>
                <span class="nx">min</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">;</span>
                <span class="nx">max</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">max</span><span class="p">,</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">min</span><span class="p">,</span> <span class="nx">value</span><span class="p">));</span>
        <span class="p">},</span>

</pre></div>             </td>           </tr>                               <tr id="section-15">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-15">&#182;</a>               </div>               <p>Wraps a number inside a given range with modulo operation.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">wrap</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">interval</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">min</span> <span class="o">&gt;</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">max</span> <span class="o">=</span> <span class="nx">min</span> <span class="o">+</span> <span class="nx">max</span><span class="p">;</span>
                <span class="nx">min</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">;</span>
                <span class="nx">max</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">interval</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">;</span>
            <span class="k">return</span> <span class="nx">min</span> <span class="o">+</span> <span class="p">((</span><span class="nx">value</span> <span class="o">%</span> <span class="nx">interval</span><span class="p">)</span> <span class="o">+</span> <span class="nx">interval</span><span class="p">)</span> <span class="o">%</span> <span class="nx">interval</span><span class="p">;</span>
        <span class="p">},</span>

</pre></div>             </td>           </tr>                               <tr id="section-16">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-16">&#182;</a>               </div>               <p>Fills leading zeros for a number to make sure it has a fixed width.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">zeroFill</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">number</span><span class="p">,</span> <span class="nx">width</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">number</span> <span class="o">+=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
            <span class="nx">width</span> <span class="o">-=</span> <span class="nx">number</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">width</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="nx">width</span> <span class="o">+</span> <span class="mi">1</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="nx">number</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nx">number</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="p">},</span>

</pre></div>             </td>           </tr>                               <tr id="section-17">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-17">&#182;</a>               </div>               <p>Generates a random number in a given range.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">random</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">min</span><span class="p">,</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">min</span> <span class="o">===</span> <span class="nx">max</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">min</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">)</span> <span class="o">+</span> <span class="nx">min</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">};</span>


</pre></div>             </td>           </tr>                               <tr id="section-18">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-18">&#182;</a>               </div>               <h2>Preparation</h2>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-19">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-19">&#182;</a>               </div>               <h3>Color name-hex map</h3>

<p>see <a href="http://www.w3.org/TR/css3-color/#svg-color">Extended color keywords, CSS Color Module Level 3</a></p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">COLOR_MAP</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;aliceblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#f0f8ff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;antiquewhite&quot;</span><span class="o">:</span> <span class="s2">&quot;#faebd7&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aqua&quot;</span><span class="o">:</span> <span class="s2">&quot;#00ffff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;aquamarine&quot;</span><span class="o">:</span> <span class="s2">&quot;#7fffd4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;azure&quot;</span><span class="o">:</span> <span class="s2">&quot;#f0ffff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;beige&quot;</span><span class="o">:</span> <span class="s2">&quot;#f5f5dc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;bisque&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffe4c4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;black&quot;</span><span class="o">:</span> <span class="s2">&quot;#000000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;blanchedalmond&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffebcd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;blue&quot;</span><span class="o">:</span> <span class="s2">&quot;#0000ff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;blueviolet&quot;</span><span class="o">:</span> <span class="s2">&quot;#8a2be2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;brown&quot;</span><span class="o">:</span> <span class="s2">&quot;#a52a2a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;burlywood&quot;</span><span class="o">:</span> <span class="s2">&quot;#deb887&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cadetblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#5f9ea0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;chartreuse&quot;</span><span class="o">:</span> <span class="s2">&quot;#7fff00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;chocolate&quot;</span><span class="o">:</span> <span class="s2">&quot;#d2691e&quot;</span><span class="p">,</span>
        <span class="s2">&quot;coral&quot;</span><span class="o">:</span> <span class="s2">&quot;#ff7f50&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cornflowerblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#6495ed&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cornsilk&quot;</span><span class="o">:</span> <span class="s2">&quot;#fff8dc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;crimson&quot;</span><span class="o">:</span> <span class="s2">&quot;#dc143c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;cyan&quot;</span><span class="o">:</span> <span class="s2">&quot;#00ffff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#00008b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkcyan&quot;</span><span class="o">:</span> <span class="s2">&quot;#008b8b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkgoldenrod&quot;</span><span class="o">:</span> <span class="s2">&quot;#b8860b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkgray&quot;</span><span class="o">:</span> <span class="s2">&quot;#a9a9a9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkgreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#006400&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkgrey&quot;</span><span class="o">:</span> <span class="s2">&quot;#a9a9a9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkkhaki&quot;</span><span class="o">:</span> <span class="s2">&quot;#bdb76b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkmagenta&quot;</span><span class="o">:</span> <span class="s2">&quot;#8b008b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkolivegreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#556b2f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkorange&quot;</span><span class="o">:</span> <span class="s2">&quot;#ff8c00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkorchid&quot;</span><span class="o">:</span> <span class="s2">&quot;#9932cc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkred&quot;</span><span class="o">:</span> <span class="s2">&quot;#8b0000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darksalmon&quot;</span><span class="o">:</span> <span class="s2">&quot;#e9967a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkseagreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#8fbc8f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkslateblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#483d8b&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkslategray&quot;</span><span class="o">:</span> <span class="s2">&quot;#2f4f4f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkslategrey&quot;</span><span class="o">:</span> <span class="s2">&quot;#2f4f4f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkturquoise&quot;</span><span class="o">:</span> <span class="s2">&quot;#00ced1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;darkviolet&quot;</span><span class="o">:</span> <span class="s2">&quot;#9400d3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;deeppink&quot;</span><span class="o">:</span> <span class="s2">&quot;#ff1493&quot;</span><span class="p">,</span>
        <span class="s2">&quot;deepskyblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#00bfff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dimgray&quot;</span><span class="o">:</span> <span class="s2">&quot;#696969&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dimgrey&quot;</span><span class="o">:</span> <span class="s2">&quot;#696969&quot;</span><span class="p">,</span>
        <span class="s2">&quot;dodgerblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#1e90ff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;firebrick&quot;</span><span class="o">:</span> <span class="s2">&quot;#b22222&quot;</span><span class="p">,</span>
        <span class="s2">&quot;floralwhite&quot;</span><span class="o">:</span> <span class="s2">&quot;#fffaf0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;forestgreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#228b22&quot;</span><span class="p">,</span>
        <span class="s2">&quot;fuchsia&quot;</span><span class="o">:</span> <span class="s2">&quot;#ff00ff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gainsboro&quot;</span><span class="o">:</span> <span class="s2">&quot;#dcdcdc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ghostwhite&quot;</span><span class="o">:</span> <span class="s2">&quot;#f8f8ff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gold&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffd700&quot;</span><span class="p">,</span>
        <span class="s2">&quot;goldenrod&quot;</span><span class="o">:</span> <span class="s2">&quot;#daa520&quot;</span><span class="p">,</span>
        <span class="s2">&quot;gray&quot;</span><span class="o">:</span> <span class="s2">&quot;#808080&quot;</span><span class="p">,</span>
        <span class="s2">&quot;green&quot;</span><span class="o">:</span> <span class="s2">&quot;#008000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;greenyellow&quot;</span><span class="o">:</span> <span class="s2">&quot;#adff2f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;grey&quot;</span><span class="o">:</span> <span class="s2">&quot;#808080&quot;</span><span class="p">,</span>
        <span class="s2">&quot;honeydew&quot;</span><span class="o">:</span> <span class="s2">&quot;#f0fff0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;hotpink&quot;</span><span class="o">:</span> <span class="s2">&quot;#ff69b4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;indianred&quot;</span><span class="o">:</span> <span class="s2">&quot;#cd5c5c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;indigo&quot;</span><span class="o">:</span> <span class="s2">&quot;#4b0082&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ivory&quot;</span><span class="o">:</span> <span class="s2">&quot;#fffff0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;khaki&quot;</span><span class="o">:</span> <span class="s2">&quot;#f0e68c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lavender&quot;</span><span class="o">:</span> <span class="s2">&quot;#e6e6fa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lavenderblush&quot;</span><span class="o">:</span> <span class="s2">&quot;#fff0f5&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lawngreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#7cfc00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lemonchiffon&quot;</span><span class="o">:</span> <span class="s2">&quot;#fffacd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#add8e6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightcoral&quot;</span><span class="o">:</span> <span class="s2">&quot;#f08080&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightcyan&quot;</span><span class="o">:</span> <span class="s2">&quot;#e0ffff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightgoldenrodyellow&quot;</span><span class="o">:</span> <span class="s2">&quot;#fafad2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightgray&quot;</span><span class="o">:</span> <span class="s2">&quot;#d3d3d3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightgreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#90ee90&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightgrey&quot;</span><span class="o">:</span> <span class="s2">&quot;#d3d3d3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightpink&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffb6c1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightsalmon&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffa07a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightseagreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#20b2aa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightskyblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#87cefa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightslategray&quot;</span><span class="o">:</span> <span class="s2">&quot;#778899&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightslategrey&quot;</span><span class="o">:</span> <span class="s2">&quot;#778899&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightsteelblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#b0c4de&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lightyellow&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffffe0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;lime&quot;</span><span class="o">:</span> <span class="s2">&quot;#00ff00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;limegreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#32cd32&quot;</span><span class="p">,</span>
        <span class="s2">&quot;linen&quot;</span><span class="o">:</span> <span class="s2">&quot;#faf0e6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;magenta&quot;</span><span class="o">:</span> <span class="s2">&quot;#ff00ff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;maroon&quot;</span><span class="o">:</span> <span class="s2">&quot;#800000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mediumaquamarine&quot;</span><span class="o">:</span> <span class="s2">&quot;#66cdaa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mediumblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#0000cd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mediumorchid&quot;</span><span class="o">:</span> <span class="s2">&quot;#ba55d3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mediumpurple&quot;</span><span class="o">:</span> <span class="s2">&quot;#9370db&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mediumseagreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#3cb371&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mediumslateblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#7b68ee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mediumspringgreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#00fa9a&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mediumturquoise&quot;</span><span class="o">:</span> <span class="s2">&quot;#48d1cc&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mediumvioletred&quot;</span><span class="o">:</span> <span class="s2">&quot;#c71585&quot;</span><span class="p">,</span>
        <span class="s2">&quot;midnightblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#191970&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mintcream&quot;</span><span class="o">:</span> <span class="s2">&quot;#f5fffa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;mistyrose&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffe4e1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;moccasin&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffe4b5&quot;</span><span class="p">,</span>
        <span class="s2">&quot;navajowhite&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffdead&quot;</span><span class="p">,</span>
        <span class="s2">&quot;navy&quot;</span><span class="o">:</span> <span class="s2">&quot;#000080&quot;</span><span class="p">,</span>
        <span class="s2">&quot;oldlace&quot;</span><span class="o">:</span> <span class="s2">&quot;#fdf5e6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;olive&quot;</span><span class="o">:</span> <span class="s2">&quot;#808000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;olivedrab&quot;</span><span class="o">:</span> <span class="s2">&quot;#6b8e23&quot;</span><span class="p">,</span>
        <span class="s2">&quot;orange&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffa500&quot;</span><span class="p">,</span>
        <span class="s2">&quot;orangered&quot;</span><span class="o">:</span> <span class="s2">&quot;#ff4500&quot;</span><span class="p">,</span>
        <span class="s2">&quot;orchid&quot;</span><span class="o">:</span> <span class="s2">&quot;#da70d6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;palegoldenrod&quot;</span><span class="o">:</span> <span class="s2">&quot;#eee8aa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;palegreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#98fb98&quot;</span><span class="p">,</span>
        <span class="s2">&quot;paleturquoise&quot;</span><span class="o">:</span> <span class="s2">&quot;#afeeee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;palevioletred&quot;</span><span class="o">:</span> <span class="s2">&quot;#db7093&quot;</span><span class="p">,</span>
        <span class="s2">&quot;papayawhip&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffefd5&quot;</span><span class="p">,</span>
        <span class="s2">&quot;peachpuff&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffdab9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;peru&quot;</span><span class="o">:</span> <span class="s2">&quot;#cd853f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pink&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffc0cb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;plum&quot;</span><span class="o">:</span> <span class="s2">&quot;#dda0dd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;powderblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#b0e0e6&quot;</span><span class="p">,</span>
        <span class="s2">&quot;purple&quot;</span><span class="o">:</span> <span class="s2">&quot;#800080&quot;</span><span class="p">,</span>
        <span class="s2">&quot;red&quot;</span><span class="o">:</span> <span class="s2">&quot;#ff0000&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rosybrown&quot;</span><span class="o">:</span> <span class="s2">&quot;#bc8f8f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;royalblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#4169e1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;saddlebrown&quot;</span><span class="o">:</span> <span class="s2">&quot;#8b4513&quot;</span><span class="p">,</span>
        <span class="s2">&quot;salmon&quot;</span><span class="o">:</span> <span class="s2">&quot;#fa8072&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sandybrown&quot;</span><span class="o">:</span> <span class="s2">&quot;#f4a460&quot;</span><span class="p">,</span>
        <span class="s2">&quot;seagreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#2e8b57&quot;</span><span class="p">,</span>
        <span class="s2">&quot;seashell&quot;</span><span class="o">:</span> <span class="s2">&quot;#fff5ee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;sienna&quot;</span><span class="o">:</span> <span class="s2">&quot;#a0522d&quot;</span><span class="p">,</span>
        <span class="s2">&quot;silver&quot;</span><span class="o">:</span> <span class="s2">&quot;#c0c0c0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;skyblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#87ceeb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;slateblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#6a5acd&quot;</span><span class="p">,</span>
        <span class="s2">&quot;slategray&quot;</span><span class="o">:</span> <span class="s2">&quot;#708090&quot;</span><span class="p">,</span>
        <span class="s2">&quot;slategrey&quot;</span><span class="o">:</span> <span class="s2">&quot;#708090&quot;</span><span class="p">,</span>
        <span class="s2">&quot;snow&quot;</span><span class="o">:</span> <span class="s2">&quot;#fffafa&quot;</span><span class="p">,</span>
        <span class="s2">&quot;springgreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#00ff7f&quot;</span><span class="p">,</span>
        <span class="s2">&quot;steelblue&quot;</span><span class="o">:</span> <span class="s2">&quot;#4682b4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tan&quot;</span><span class="o">:</span> <span class="s2">&quot;#d2b48c&quot;</span><span class="p">,</span>
        <span class="s2">&quot;teal&quot;</span><span class="o">:</span> <span class="s2">&quot;#008080&quot;</span><span class="p">,</span>
        <span class="s2">&quot;thistle&quot;</span><span class="o">:</span> <span class="s2">&quot;#d8bfd8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tomato&quot;</span><span class="o">:</span> <span class="s2">&quot;#ff6347&quot;</span><span class="p">,</span>
        <span class="s2">&quot;turquoise&quot;</span><span class="o">:</span> <span class="s2">&quot;#40e0d0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;violet&quot;</span><span class="o">:</span> <span class="s2">&quot;#ee82ee&quot;</span><span class="p">,</span>
        <span class="s2">&quot;wheat&quot;</span><span class="o">:</span> <span class="s2">&quot;#f5deb3&quot;</span><span class="p">,</span>
        <span class="s2">&quot;white&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffffff&quot;</span><span class="p">,</span>
        <span class="s2">&quot;whitesmoke&quot;</span><span class="o">:</span> <span class="s2">&quot;#f5f5f5&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yellow&quot;</span><span class="o">:</span> <span class="s2">&quot;#ffff00&quot;</span><span class="p">,</span>
        <span class="s2">&quot;yellowgreen&quot;</span><span class="o">:</span> <span class="s2">&quot;#9acd32&quot;</span>
    <span class="p">};</span>


</pre></div>             </td>           </tr>                               <tr id="section-20">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-20">&#182;</a>               </div>               <h3>Color value data type flags</h3>

<p>Uses powers of 2 in order to easily define several data types for one data field.</p>

<ul>
<li>INTEGER: 0, 128, 255, ...</li>
<li>NUMBER: 0, 0.5, 0.75, ...</li>
<li>PERCENT: 10%, 87.53%, ...</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">INTEGER</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nx">NUMBER</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
        <span class="nx">PERCENT</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>

</pre></div>             </td>           </tr>                               <tr id="section-21">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-21">&#182;</a>               </div>               <h3>Utils for each data type</h3>

<ul>
<li><em>parse</em> - gets valid value from various types of input.</li>
<li><em>stringify</em> - produces string value according to actual data value.</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">DATATYPES</span> <span class="o">=</span> <span class="p">{</span>
            <span class="mi">1</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">flag</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="p">,</span>
                <span class="nx">parse</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">switch</span> <span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">typeOf</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
                        <span class="k">case</span> <span class="s1">&#39;Number&#39;</span><span class="o">:</span>
                            <span class="nx">value</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
                            <span class="k">break</span><span class="p">;</span>
                        <span class="k">case</span> <span class="s1">&#39;String&#39;</span><span class="o">:</span>
                            <span class="k">if</span> <span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^[-+]?\d+$/i</span><span class="p">))</span> <span class="p">{</span>
                                <span class="nx">value</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
                            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                                <span class="nx">value</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                            <span class="p">}</span>
                            <span class="k">break</span><span class="p">;</span>
                        <span class="k">default</span><span class="o">:</span>
                            <span class="nx">value</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
                <span class="p">},</span>
                <span class="nx">stringify</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="mi">2</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">flag</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span>
                <span class="nx">parse</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">switch</span> <span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">typeOf</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
                        <span class="k">case</span> <span class="s1">&#39;Number&#39;</span><span class="o">:</span>
                            <span class="k">break</span><span class="p">;</span>
                        <span class="k">case</span> <span class="s1">&#39;String&#39;</span><span class="o">:</span>
                            <span class="k">if</span> <span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^[-+]?\d+(?:\.\d+)?$|^[-+]?\.\d+$/i</span><span class="p">))</span> <span class="p">{</span>
                                <span class="nx">value</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
                            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                                <span class="nx">value</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                            <span class="p">}</span>
                            <span class="k">break</span><span class="p">;</span>
                        <span class="k">default</span><span class="o">:</span>
                            <span class="nx">value</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
                <span class="p">},</span>
                <span class="nx">stringify</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">value</span> <span class="o">+</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="mi">4</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">flag</span><span class="o">:</span> <span class="nx">PERCENT</span><span class="p">,</span>
                <span class="nx">parse</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">switch</span> <span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">typeOf</span><span class="p">(</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>
                        <span class="k">case</span> <span class="s1">&#39;String&#39;</span><span class="o">:</span>
                            <span class="k">if</span> <span class="p">(</span><span class="nx">value</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^[-+]?\d+(?:\.\d+)?%$|^[-+]?\.\d+%$/i</span><span class="p">))</span> <span class="p">{</span>
                                <span class="nx">value</span> <span class="o">=</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>
                            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                                <span class="nx">value</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                            <span class="p">}</span>
                            <span class="k">break</span><span class="p">;</span>
                        <span class="k">default</span><span class="o">:</span>
                            <span class="nx">value</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">return</span> <span class="nx">value</span><span class="p">;</span>
                <span class="p">},</span>
                <span class="nx">stringify</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">return</span> <span class="nx">value</span> <span class="o">*</span> <span class="mi">100</span> <span class="o">+</span> <span class="s1">&#39;%&#39;</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-22">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-22">&#182;</a>               </div>               <h3>Value filters</h3>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">CLAMP</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">clamp</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="k">this</span><span class="p">.</span><span class="nx">range</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
    <span class="p">}</span>


    <span class="kd">function</span> <span class="nx">MOD</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">wrap</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">range</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="k">this</span><span class="p">.</span><span class="nx">range</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
    <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-23">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-23">&#182;</a>               </div>               <h3>Color format configurations</h3>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">FORMATS</span> <span class="o">=</span> <span class="p">{</span>
        <span class="nx">RGB</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">channels</span><span class="o">:</span> <span class="p">[</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">255</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">255</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">255</span> <span class="p">}</span>
            <span class="p">],</span>
            <span class="nx">pattern</span><span class="o">:</span> <span class="sr">/rgb\(\s*([^,]+?)\s*,\s*([^,]+?)\s*,\s*([^\)]+?)\s*\)/i</span><span class="p">,</span>
            <span class="nx">converters</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">RGBA</span><span class="o">:</span> <span class="nx">ADD_ALPHA</span><span class="p">,</span>
                <span class="nx">HSL</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsla</span><span class="p">().</span><span class="nx">hsl</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSLA</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsla</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSV</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsva</span><span class="p">().</span><span class="nx">hsv</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSVA</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsva</span><span class="p">();</span> <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">RGBA</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">channels</span><span class="o">:</span> <span class="p">[</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">255</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">255</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">INTEGER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">255</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;alpha&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
            <span class="p">],</span>
            <span class="nx">pattern</span><span class="o">:</span> <span class="sr">/rgba\(\s*([^,]+?)\s*,\s*([^,]+?)\s*,\s*([^,]+?)\s*,\s*([^\)]+?)\s*\)/i</span><span class="p">,</span>
            <span class="nx">converters</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">RGB</span><span class="o">:</span> <span class="nx">REMOVE_ALPHA</span><span class="p">,</span>
                <span class="nx">HSL</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsla</span><span class="p">().</span><span class="nx">hsl</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSLA</span><span class="o">:</span> <span class="nx">RGBA_TO_HSLA</span><span class="p">,</span>
                <span class="nx">HSV</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsva</span><span class="p">().</span><span class="nx">hsv</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSVA</span><span class="o">:</span> <span class="nx">RGBA_TO_HSVA</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">HSL</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">channels</span><span class="o">:</span> <span class="p">[</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;hue&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">MOD</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;saturation&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;lightness&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span>
            <span class="p">],</span>
            <span class="nx">pattern</span><span class="o">:</span> <span class="sr">/hsl\(\s*([^,]+?)\s*,\s*([^,]+?)\s*,\s*([^\)]+?)\s*\)/i</span><span class="p">,</span>
            <span class="nx">converters</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">RGB</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsla</span><span class="p">().</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">rgb</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">RGBA</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsla</span><span class="p">().</span><span class="nx">rgba</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSLA</span><span class="o">:</span> <span class="nx">ADD_ALPHA</span><span class="p">,</span>
                <span class="nx">HSV</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsla</span><span class="p">().</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsva</span><span class="p">().</span><span class="nx">hsv</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSVA</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>  <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsla</span><span class="p">().</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsva</span><span class="p">();</span> <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">HSLA</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">channels</span><span class="o">:</span> <span class="p">[</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;hue&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">MOD</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;saturation&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;lightness&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;l&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;alpha&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
            <span class="p">],</span>
            <span class="nx">pattern</span><span class="o">:</span> <span class="sr">/hsla\(\s*([^,]+?)\s*,\s*([^,]+?)\s*,\s*([^,]+?)\s*,\s*([^\)]+?)\s*\)/i</span><span class="p">,</span>
            <span class="nx">converters</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">RGB</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">rgb</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">RGBA</span><span class="o">:</span> <span class="nx">HSLA_TO_RGBA</span><span class="p">,</span>
                <span class="nx">HSL</span><span class="o">:</span> <span class="nx">REMOVE_ALPHA</span><span class="p">,</span>
                <span class="nx">HSV</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsva</span><span class="p">().</span><span class="nx">hsv</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSVA</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsva</span><span class="p">();</span> <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">HSV</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">channels</span><span class="o">:</span> <span class="p">[</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;hue&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">MOD</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;saturation&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">}</span>
            <span class="p">],</span>
            <span class="nx">pattern</span><span class="o">:</span> <span class="sr">/hsv\(\s*([^,]+?)\s*,\s*([^,]+?)\s*,\s*([^\)]+?)\s*\)/i</span><span class="p">,</span>
            <span class="nx">converters</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">RGB</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsva</span><span class="p">().</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">rgb</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">RGBA</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsva</span><span class="p">().</span><span class="nx">rgba</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSL</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsva</span><span class="p">().</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsla</span><span class="p">().</span><span class="nx">hsl</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSLA</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsva</span><span class="p">().</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsla</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSVA</span><span class="o">:</span> <span class="nx">ADD_ALPHA</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">HSVA</span><span class="o">:</span> <span class="p">{</span>
            <span class="nx">channels</span><span class="o">:</span> <span class="p">[</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;hue&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">MOD</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;saturation&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">0</span> <span class="p">},</span>
                <span class="p">{</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;alpha&#39;</span><span class="p">,</span> <span class="nx">shorthand</span><span class="o">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nx">dataType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="o">|</span><span class="nx">PERCENT</span><span class="p">,</span> <span class="nx">cssType</span><span class="o">:</span> <span class="nx">NUMBER</span><span class="p">,</span> <span class="nx">range</span><span class="o">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="nx">filter</span><span class="o">:</span> <span class="nx">CLAMP</span><span class="p">,</span> <span class="nx">initial</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span>
            <span class="p">],</span>
            <span class="nx">pattern</span><span class="o">:</span> <span class="sr">/hsva\(\s*([^,]+?)\s*,\s*([^,]+?)\s*,\s*([^,]+?)\s*,\s*([^\)]+?)\s*\)/i</span><span class="p">,</span>
            <span class="nx">converters</span><span class="o">:</span> <span class="p">{</span>
                <span class="nx">RGB</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">rgb</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">RGBA</span><span class="o">:</span> <span class="nx">HSVA_TO_RGBA</span><span class="p">,</span>
                <span class="nx">HSL</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsla</span><span class="p">().</span><span class="nx">hsl</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSLA</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">().</span><span class="nx">hsla</span><span class="p">();</span> <span class="p">},</span>
                <span class="nx">HSV</span><span class="o">:</span> <span class="nx">REMOVE_ALPHA</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-24">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-24">&#182;</a>               </div>               <h3>Format converter algorithms</h3>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-25">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-25">&#182;</a>               </div>               <p>Clones a color object in the same format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">CLONE</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">kolor</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-26">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-26">&#182;</a>               </div>               <p>Produces a new color object by adding alpha channel to the old one.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">ADD_ALPHA</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">format</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">(),</span>
            <span class="nx">channels</span> <span class="o">=</span> <span class="nx">FORMATS</span><span class="p">[</span><span class="nx">format</span><span class="p">].</span><span class="nx">channels</span><span class="p">,</span>
            <span class="nx">l</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
            <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">channels</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">]());</span>
        <span class="p">}</span>
        <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">kolor</span><span class="p">[</span><span class="nx">format</span> <span class="o">+</span> <span class="s1">&#39;A&#39;</span><span class="p">](</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-27">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-27">&#182;</a>               </div>               <p>Produces a new color object by removing alpha channel from the old one.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">REMOVE_ALPHA</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">format</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">(),</span>
            <span class="nx">channels</span> <span class="o">=</span> <span class="nx">FORMATS</span><span class="p">[</span><span class="nx">format</span><span class="p">].</span><span class="nx">channels</span><span class="p">,</span>
            <span class="nx">l</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
            <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">channels</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">]());</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nx">kolor</span><span class="p">[</span><span class="nx">format</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)](</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-28">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-28">&#182;</a>               </div>               <p>Converts RGBA color to HSLA.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">RGBA_TO_HSLA</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">r</span><span class="p">()</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="nx">g</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">g</span><span class="p">()</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="nx">b</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">()</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">(),</span>
            <span class="nx">max</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span> <span class="nx">g</span><span class="p">,</span> <span class="nx">b</span><span class="p">),</span>
            <span class="nx">min</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span> <span class="nx">g</span><span class="p">,</span> <span class="nx">b</span><span class="p">),</span>
            <span class="nx">diff</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">,</span>
            <span class="nx">sum</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">+</span> <span class="nx">min</span><span class="p">,</span>
            <span class="nx">h</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">l</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">max</span> <span class="o">===</span> <span class="nx">min</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">max</span> <span class="o">===</span> <span class="nx">r</span> <span class="o">&amp;&amp;</span> <span class="nx">g</span> <span class="o">&gt;=</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="p">(</span><span class="nx">g</span> <span class="o">-</span> <span class="nx">b</span><span class="p">)</span> <span class="o">/</span> <span class="nx">diff</span> <span class="o">+</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">max</span> <span class="o">===</span> <span class="nx">r</span> <span class="o">&amp;&amp;</span> <span class="nx">g</span> <span class="o">&lt;</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="p">(</span><span class="nx">g</span> <span class="o">-</span> <span class="nx">b</span><span class="p">)</span> <span class="o">/</span> <span class="nx">diff</span> <span class="o">+</span> <span class="mi">360</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">max</span> <span class="o">===</span> <span class="nx">g</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="p">(</span><span class="nx">b</span> <span class="o">-</span> <span class="nx">r</span><span class="p">)</span> <span class="o">/</span> <span class="nx">diff</span> <span class="o">+</span> <span class="mi">120</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">//max === b</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="p">(</span><span class="nx">r</span> <span class="o">-</span> <span class="nx">g</span><span class="p">)</span> <span class="o">/</span> <span class="nx">diff</span> <span class="o">+</span> <span class="mi">240</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">l</span> <span class="o">=</span> <span class="nx">sum</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">l</span> <span class="o">===</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">max</span> <span class="o">===</span> <span class="nx">min</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="mi">0</span> <span class="o">&lt;</span> <span class="nx">l</span> <span class="o">&amp;&amp;</span> <span class="nx">l</span> <span class="o">&lt;=</span> <span class="mf">0.5</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">diff</span> <span class="o">/</span> <span class="nx">sum</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">//l &gt; 0.5</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">diff</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">-</span> <span class="nx">sum</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">kolor</span><span class="p">.</span><span class="nx">hsla</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">l</span><span class="p">,</span> <span class="nx">a</span><span class="p">);</span>
    <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-29">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-29">&#182;</a>               </div>               <p>Converts RGBA color to HSVA.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">RGBA_TO_HSVA</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">r</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">r</span><span class="p">()</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="nx">g</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">g</span><span class="p">()</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="nx">b</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">b</span><span class="p">()</span> <span class="o">/</span> <span class="mi">255</span><span class="p">,</span>
            <span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">(),</span>
            <span class="nx">max</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span> <span class="nx">g</span><span class="p">,</span> <span class="nx">b</span><span class="p">),</span>
            <span class="nx">min</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">r</span><span class="p">,</span> <span class="nx">g</span><span class="p">,</span> <span class="nx">b</span><span class="p">),</span>
            <span class="nx">diff</span> <span class="o">=</span> <span class="nx">max</span> <span class="o">-</span> <span class="nx">min</span><span class="p">,</span>
            <span class="nx">h</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">l</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">max</span> <span class="o">===</span> <span class="nx">min</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">max</span> <span class="o">===</span> <span class="nx">r</span> <span class="o">&amp;&amp;</span> <span class="nx">g</span> <span class="o">&gt;=</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="p">(</span><span class="nx">g</span> <span class="o">-</span> <span class="nx">b</span><span class="p">)</span> <span class="o">/</span> <span class="nx">diff</span> <span class="o">+</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">max</span> <span class="o">===</span> <span class="nx">r</span> <span class="o">&amp;&amp;</span> <span class="nx">g</span> <span class="o">&lt;</span> <span class="nx">b</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="p">(</span><span class="nx">g</span> <span class="o">-</span> <span class="nx">b</span><span class="p">)</span> <span class="o">/</span> <span class="nx">diff</span> <span class="o">+</span> <span class="mi">360</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">max</span> <span class="o">===</span> <span class="nx">g</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="p">(</span><span class="nx">b</span> <span class="o">-</span> <span class="nx">r</span><span class="p">)</span> <span class="o">/</span> <span class="nx">diff</span> <span class="o">+</span> <span class="mi">120</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">//max === b</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="mi">60</span> <span class="o">*</span> <span class="p">(</span><span class="nx">r</span> <span class="o">-</span> <span class="nx">g</span><span class="p">)</span> <span class="o">/</span> <span class="nx">diff</span> <span class="o">+</span> <span class="mi">240</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">max</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">diff</span> <span class="o">/</span> <span class="nx">max</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nx">v</span> <span class="o">=</span> <span class="nx">max</span><span class="p">;</span>

        <span class="k">return</span> <span class="nx">kolor</span><span class="p">.</span><span class="nx">hsva</span><span class="p">(</span><span class="nx">h</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">a</span><span class="p">);</span>
    <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-30">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-30">&#182;</a>               </div>               <p>Converts HSLA color to RGBA.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">HSLA_TO_RGBA</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">h</span><span class="p">(),</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">s</span><span class="p">(),</span>
            <span class="nx">l</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">l</span><span class="p">(),</span>
            <span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">(),</span>
            <span class="nx">q</span> <span class="o">=</span> <span class="nx">l</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="o">?</span> <span class="nx">l</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nx">s</span><span class="p">)</span> <span class="o">:</span> <span class="nx">l</span> <span class="o">+</span> <span class="nx">s</span> <span class="o">-</span> <span class="nx">l</span> <span class="o">*</span> <span class="nx">s</span><span class="p">,</span>
            <span class="nx">p</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">l</span> <span class="o">-</span> <span class="nx">q</span><span class="p">,</span>
            <span class="nx">hk</span> <span class="o">=</span> <span class="nx">h</span> <span class="o">/</span> <span class="mi">360</span><span class="p">,</span>
            <span class="nx">t</span> <span class="o">=</span> <span class="p">{},</span>
            <span class="nx">rgb</span> <span class="o">=</span> <span class="p">{};</span>

        <span class="nx">t</span><span class="p">.</span><span class="nx">r</span> <span class="o">=</span> <span class="nx">hk</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">g</span> <span class="o">=</span> <span class="nx">hk</span><span class="p">;</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">b</span> <span class="o">=</span> <span class="nx">hk</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">c</span> <span class="k">in</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">++</span><span class="p">;</span>
            <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span> <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">--</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">c</span> <span class="k">in</span> <span class="nx">t</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">6</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">rgb</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">=</span> <span class="nx">p</span> <span class="o">+</span> <span class="p">((</span><span class="nx">q</span> <span class="o">-</span> <span class="nx">p</span><span class="p">)</span> <span class="o">*</span> <span class="mi">6</span> <span class="o">*</span> <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="mi">6</span> <span class="o">&lt;=</span> <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.5</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">rgb</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">=</span> <span class="nx">q</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="mf">0.5</span> <span class="o">&lt;=</span> <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">rgb</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">=</span> <span class="nx">p</span> <span class="o">+</span> <span class="p">((</span><span class="nx">q</span> <span class="o">-</span> <span class="nx">p</span><span class="p">)</span> <span class="o">*</span> <span class="mi">6</span> <span class="o">*</span> <span class="p">(</span><span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">-</span> <span class="nx">t</span><span class="p">[</span><span class="nx">c</span><span class="p">]));</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="c1">//t[c] &gt;= 2 / 3</span>
                <span class="nx">rgb</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">=</span> <span class="nx">p</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">rgb</span><span class="p">[</span><span class="nx">c</span><span class="p">]</span> <span class="o">*=</span> <span class="mi">255</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">kolor</span><span class="p">.</span><span class="nx">rgba</span><span class="p">(</span><span class="nx">rgb</span><span class="p">.</span><span class="nx">r</span><span class="p">,</span> <span class="nx">rgb</span><span class="p">.</span><span class="nx">g</span><span class="p">,</span> <span class="nx">rgb</span><span class="p">.</span><span class="nx">b</span><span class="p">,</span> <span class="nx">a</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-31">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-31">&#182;</a>               </div>               <p>Converts HSVA color to RGBA.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">HSVA_TO_RGBA</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">h</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">h</span><span class="p">(),</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">s</span><span class="p">(),</span>
            <span class="nx">v</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">v</span><span class="p">(),</span>
            <span class="nx">a</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span><span class="p">(),</span>
            <span class="nx">hi</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">h</span> <span class="o">/</span> <span class="mi">60</span><span class="p">),</span>
            <span class="nx">f</span> <span class="o">=</span> <span class="nx">h</span> <span class="o">/</span> <span class="mi">60</span> <span class="o">-</span> <span class="nx">hi</span><span class="p">,</span>
            <span class="nx">p</span> <span class="o">=</span> <span class="nx">v</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="nx">s</span><span class="p">),</span>
            <span class="nx">q</span> <span class="o">=</span> <span class="nx">v</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="nx">f</span> <span class="o">*</span> <span class="nx">s</span><span class="p">),</span>
            <span class="nx">t</span> <span class="o">=</span> <span class="nx">v</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="nx">f</span><span class="p">)</span> <span class="o">*</span> <span class="nx">s</span><span class="p">),</span>
            <span class="nx">rgba</span><span class="p">;</span>

        <span class="k">switch</span><span class="p">(</span><span class="nx">hi</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">case</span> <span class="mi">0</span><span class="o">:</span>
                <span class="nx">rgba</span> <span class="o">=</span> <span class="p">[</span><span class="nx">v</span><span class="p">,</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">p</span><span class="p">,</span> <span class="nx">a</span><span class="p">];</span> <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">1</span><span class="o">:</span>
                <span class="nx">rgba</span> <span class="o">=</span> <span class="p">[</span><span class="nx">q</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">p</span><span class="p">,</span> <span class="nx">a</span><span class="p">];</span> <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">2</span><span class="o">:</span>
                <span class="nx">rgba</span> <span class="o">=</span> <span class="p">[</span><span class="nx">p</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">t</span><span class="p">,</span> <span class="nx">a</span><span class="p">];</span> <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">3</span><span class="o">:</span>
                <span class="nx">rgba</span> <span class="o">=</span> <span class="p">[</span><span class="nx">p</span><span class="p">,</span> <span class="nx">q</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">a</span><span class="p">];</span> <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">4</span><span class="o">:</span>
                <span class="nx">rgba</span> <span class="o">=</span> <span class="p">[</span><span class="nx">t</span><span class="p">,</span> <span class="nx">p</span><span class="p">,</span> <span class="nx">v</span><span class="p">,</span> <span class="nx">a</span><span class="p">];</span> <span class="k">break</span><span class="p">;</span>
            <span class="k">case</span> <span class="mi">5</span><span class="o">:</span>
                <span class="nx">rgba</span> <span class="o">=</span> <span class="p">[</span><span class="nx">v</span><span class="p">,</span> <span class="nx">p</span><span class="p">,</span> <span class="nx">q</span><span class="p">,</span> <span class="nx">a</span><span class="p">];</span> <span class="k">break</span><span class="p">;</span>
            <span class="k">default</span><span class="o">:</span>
                <span class="nx">rgba</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">a</span><span class="p">];</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">rgba</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">;)</span> <span class="p">{</span>
            <span class="nx">rgba</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">*=</span> <span class="mi">255</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nx">kolor</span><span class="p">.</span><span class="nx">rgba</span><span class="p">(</span><span class="nx">rgba</span><span class="p">);</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-32">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-32">&#182;</a>               </div>               <p>Filters input value according to data type definitions and color format configurations.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">function</span> <span class="nx">filterValue</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">channel</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">type</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">DATATYPES</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">type</span> <span class="o">=</span> <span class="nx">DATATYPES</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">type</span><span class="p">.</span><span class="nx">flag</span> <span class="o">&amp;</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">dataType</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">type</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">val</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">type</span><span class="p">.</span><span class="nx">flag</span> <span class="o">===</span> <span class="nx">PERCENT</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">val</span> <span class="o">*=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">channel</span><span class="p">.</span><span class="nx">range</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">range</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
                    <span class="p">}</span>
                    <span class="k">return</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">val</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">initial</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>             </td>           </tr>                               <tr id="section-33">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-33">&#182;</a>               </div>               <h2>kolor API</h2>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-34">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-34">&#182;</a>               </div>               <h4>kolor(<em>exp</em>)</h4>

<p><code>kolor</code> as a function is used as a factory method to parse given expressions into color objects.</p>

<h5>Parameters</h5>

<ul>
<li><em>exp</em> - the expression to be parsed. If <em>exp</em> is another color object, the factory method clones and
returns it as the result. If <em>exp</em> is a string, it can be any of the following types:
<ul><li>A color name defined in <code>COLOR_MAP</code>.</li>
<li>A hex value like <code>#FF0000</code>, <code>#F00</code>, or even <code>ff0000</code>, <code>F00</code>, etc.</li>
<li>A CSS-style color expression like <code>rgba(255, 0, 0, 1)</code>, <code>hsl(120, 50%, 25%)</code>, etc.</li></ul></li>
</ul>

<h5>Return values</h5>

<p>Returns a color object in a certain format decided by the given expression. Color names and hex values
result in RGB colors, while CSS-style expressions specify the output format themselves.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="kd">var</span> <span class="nx">kolor</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">exp</span><span class="p">)</span> <span class="p">{</span>

</pre></div>             </td>           </tr>                               <tr id="section-35">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-35">&#182;</a>               </div>               <p>Check if the input is another color object by checking the private attribute <code>_format</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="nx">exp</span><span class="p">.</span><span class="nx">_format</span> <span class="o">&amp;&amp;</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">kolor</span><span class="p">,</span> <span class="nx">exp</span><span class="p">.</span><span class="nx">_format</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nx">kolor</span><span class="p">[</span><span class="nx">exp</span><span class="p">.</span><span class="nx">_format</span><span class="p">](</span><span class="nx">exp</span><span class="p">.</span><span class="nx">toArray</span><span class="p">());</span>
        <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-36">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-36">&#182;</a>               </div>               <p>Check if the input is a predefined color name and create again using hex value on success.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="k">if</span> <span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">COLOR_MAP</span><span class="p">,</span> <span class="nx">exp</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">kolor</span><span class="p">(</span><span class="nx">COLOR_MAP</span><span class="p">[</span><span class="nx">exp</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]);</span>
        <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-37">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-37">&#182;</a>               </div>               <p>Try to match hex values, return RGB color on success.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="kd">var</span> <span class="nx">matches</span> <span class="o">=</span> <span class="sr">/^\s*#?([0-9a-f]{3}|[0-9a-f]{6})\s*$/i</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">exp</span><span class="p">),</span>
            <span class="nx">hex</span><span class="p">,</span> <span class="nx">rgb</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">hex</span> <span class="o">=</span> <span class="nx">matches</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">hex</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">hex</span> <span class="o">=</span> <span class="p">[</span><span class="nx">hex</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nx">hex</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nx">hex</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nx">hex</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="nx">hex</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="nx">hex</span><span class="p">.</span><span class="nx">charAt</span><span class="p">(</span><span class="mi">2</span><span class="p">)].</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">rgb</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">hex</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">i</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span><span class="p">),</span> <span class="mi">16</span><span class="p">));</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nx">kolor</span><span class="p">.</span><span class="nx">RGB</span><span class="p">(</span><span class="nx">rgb</span><span class="p">);</span>
        <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-38">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-38">&#182;</a>               </div>               <p>Recognize specific format with pattern mathing and return color object in corresponding format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">FORMATS</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">matches</span> <span class="o">=</span> <span class="nx">FORMATS</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">pattern</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="nx">exp</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">matches</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">matches</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">](</span><span class="nx">args</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-39">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-39">&#182;</a>               </div>               <p>Return false if fail to parse the input expression.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">};</span>


</pre></div>             </td>           </tr>                               <tr id="section-40">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-40">&#182;</a>               </div>               <h3>Factory methods for each color format</h3>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-41">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-41">&#182;</a>               </div>               <h4>kolor.<em>format</em>(<em>values</em>)</h4>

<p>Creates a color object using a format name defined in <code>FORMATS</code>.</p>

<h5>Parameters</h5>

<ul>
<li><p><em>values</em> - the expression carries channel values of the color. It can be separate values,
an array or an object containing specific key-value pairs.</p>

<p>For example,</p>

<ul><li>kolor.rgb(255, 0, 0)</li>
<li>kolor.rgb([255, 0, 0])</li>
<li>kolor.rgb({ r: 255, g: 0, b: 0 })</li></ul></li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">format</span> <span class="k">in</span> <span class="nx">FORMATS</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">format</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">format</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">arguments</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="nx">type</span> <span class="o">=</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">typeOf</span><span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
                <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;Array&#39;</span> <span class="o">||</span> <span class="nx">type</span> <span class="o">===</span> <span class="s1">&#39;Object&#39;</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">args</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
                <span class="p">}</span>
                <span class="k">return</span> <span class="k">new</span> <span class="nx">kolor</span><span class="p">[</span><span class="nx">format</span><span class="p">](</span><span class="nx">args</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}(</span><span class="nx">format</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">FORMATS</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">format</span> <span class="o">=</span> <span class="nx">FORMATS</span><span class="p">[</span><span class="nx">key</span><span class="p">],</span>
            <span class="nx">channels</span> <span class="o">=</span> <span class="nx">format</span><span class="p">.</span><span class="nx">channels</span><span class="p">,</span>
            <span class="nx">converters</span> <span class="o">=</span> <span class="nx">format</span><span class="p">.</span><span class="nx">converters</span><span class="p">;</span>
     
</pre></div>             </td>           </tr>                               <tr id="section-42">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-42">&#182;</a>               </div>               <h3>Constructor</h3>

<p>When <code>kolor</code> is used as a factory method, it will call these constructors.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">channels</span> <span class="o">=</span> <span class="nx">FORMATS</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">channels</span><span class="p">,</span>
                    <span class="nx">l</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
                <span class="nx">args</span> <span class="o">=</span> <span class="nx">args</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="p">[]</span> <span class="o">:</span> <span class="nx">args</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">_format</span> <span class="o">=</span> <span class="nx">key</span><span class="p">;</span>
                <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">;)</span> <span class="p">{</span>
                    <span class="kd">var</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span>
                        <span class="nx">name</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
                        <span class="nx">shorthand</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">shorthand</span><span class="p">,</span>
                        <span class="nx">param</span><span class="p">;</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">args</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">param</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">args</span><span class="p">,</span> <span class="nx">name</span><span class="p">))</span> <span class="p">{</span>
                        <span class="nx">param</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">args</span><span class="p">,</span> <span class="nx">shorthand</span><span class="p">))</span> <span class="p">{</span>
                        <span class="nx">param</span> <span class="o">=</span> <span class="nx">args</span><span class="p">[</span><span class="nx">shorthand</span><span class="p">];</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="nx">param</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">initial</span><span class="p">;</span>
                    <span class="p">}</span>
                    <span class="k">this</span><span class="p">[</span><span class="nx">name</span><span class="p">](</span><span class="nx">param</span><span class="p">);</span>
                <span class="p">}</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="nx">l</span><span class="p">;</span>
            <span class="p">};</span>
        <span class="p">})(</span><span class="nx">key</span><span class="p">);</span>

</pre></div>             </td>           </tr>                               <tr id="section-43">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-43">&#182;</a>               </div>               <h3>Accessors</h3>

<h4>.<em>accessor</em>([<em>value</em>])</h4>

<p>kolor uses jQuery-like accessors.</p>

<p>Different color formats have different accessors, for example</p>

<ul>
<li>for RGB colors <code>color.red()</code> retrieves channel value and <code>color.red(100)</code> sets it;</li>
<li>for HSL we've got <code>color.hue()</code> and <code>color.hue(120)</code></li>
</ul>

<p>Shorthand accessors like <code>color.r()</code>, <code>color.h()</code> are also available.</p>

<h5>Parameters</h5>

<ul>
<li><em>value</em> - if not null, sets the specified channel to the given value, or returns the value
of the specified channel.</li>
</ul>

<h5>Return values</h5>

<p>Returns the channel value when used as a getter, or the color object itself when used as a
getter.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">;)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span>
                <span class="nx">shorthand</span> <span class="o">=</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">shorthand</span><span class="p">;</span>

            <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">channel</span><span class="p">.</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">shorthand</span><span class="p">]</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">channel</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">[</span><span class="nx">i</span><span class="p">],</span>
                    <span class="nx">prop</span> <span class="o">=</span> <span class="s1">&#39;_&#39;</span> <span class="o">+</span> <span class="nx">channel</span><span class="p">.</span><span class="nx">shorthand</span><span class="p">;</span>
                <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                    <span class="k">if</span> <span class="p">(</span><span class="nx">value</span> <span class="o">!=</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                        <span class="k">this</span><span class="p">[</span><span class="nx">prop</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">filterValue</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">channel</span><span class="p">);</span>
                        <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
                    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                        <span class="k">return</span> <span class="k">this</span><span class="p">[</span><span class="nx">prop</span><span class="p">];</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}(</span><span class="nx">i</span><span class="p">);</span>
        <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-44">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-44">&#182;</a>               </div>               <h4>.format()</h4>

<p>A getter for the format of the color object.</p>

<h5>Return values</h5>

<p>Returns the format string in all caps such as <code>RGBA</code>, <code>HSV</code>, etc.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">format</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_format</span><span class="p">;</span>
        <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-45">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-45">&#182;</a>               </div>               <h3>Converters</h3>

<h4>.<em>converter</em>()</h4>

<p>Converts the color to the specified format. Converter names are lower-cased format names.</p>

<h5>Return values</h5>

<p>Returns a new color object in target format, if target format is the same as the original
one, a new color object will be cloned and returned.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">c</span> <span class="k">in</span> <span class="nx">converters</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">c</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]</span> <span class="o">=</span> <span class="nx">converters</span><span class="p">[</span><span class="nx">c</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">[</span><span class="nx">key</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]</span> <span class="o">=</span> <span class="nx">CLONE</span><span class="p">;</span>

</pre></div>             </td>           </tr>                               <tr id="section-46">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-46">&#182;</a>               </div>               <h3>Common methods</h3>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-47">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-47">&#182;</a>               </div>               <h4>.toArray()</h4>

<p>Produces an array carrying channel values. Because the channel values are stored both in
private attribute such as <code>_red</code> or <code>_alpha</code>, and integer keys start from <code>0</code>, the color
objects can use some array methods like <code>slice</code>.</p>

<h5>Return values</h5>

<p>Returns an array consists of the color's channel values.</p>

<p>For <code>rgba(255, 0, 0, 1)</code>, the return value is <code>[255, 0, 0, 1]</code>.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toArray</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-48">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-48">&#182;</a>               </div>               <h4>.css(), .toString()</h4>

<p>Outputs color channel values as a CSS-style string.</p>

<h5>Return values</h5>

<p>Returns the CSS-style string for the color object.</p>

<p>By CSS-style string we mean something like <code>rgba(255, 0, 0, 0.5)</code>, <code>hsl(30, 80%, 100%)</code>, etc.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">css</span> <span class="o">=</span> <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">channels</span> <span class="o">=</span> <span class="nx">FORMATS</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">()].</span><span class="nx">channels</span><span class="p">,</span>
                <span class="nx">l</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span>
                <span class="nx">channel</span><span class="p">,</span>
                <span class="nx">values</span> <span class="o">=</span> <span class="p">[];</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">channel</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
                <span class="nx">values</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">DATATYPES</span><span class="p">[</span><span class="nx">channel</span><span class="p">.</span><span class="nx">cssType</span><span class="p">].</span><span class="nx">stringify</span><span class="p">(</span><span class="k">this</span><span class="p">[</span><span class="nx">channel</span><span class="p">.</span><span class="nx">name</span><span class="p">]()));</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">().</span><span class="nx">toLowerCase</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;(&#39;</span> <span class="o">+</span> <span class="nx">values</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;)&#39;</span><span class="p">;</span>
        <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-49">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-49">&#182;</a>               </div>               <h4>.hex()</h4>

<p>Outputs color channels as a hex string.</p>

<h5>Return values</h5>

<p>Returns a hex string corresponds to the RGB format of the color,
which means the color is converted to RGB first and the hex value is produced
by its RGB channels.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hex</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="k">this</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">()</span> <span class="o">!==</span> <span class="s1">&#39;RGB&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">color</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="kd">function</span> <span class="nx">toHex</span><span class="p">(</span><span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">zeroFill</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">n</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">),</span> <span class="mi">2</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="nx">toHex</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">r</span><span class="p">()),</span> <span class="nx">toHex</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">g</span><span class="p">()),</span> <span class="nx">toHex</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">b</span><span class="p">())].</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-50">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-50">&#182;</a>               </div>               <h4>.copyFrom(<em>color</em>)</h4>

<p>Converts channel values of another color to the same format as the current one and
copies them to the current color.</p>

<h5>Parameters</h5>

<ul>
<li><em>color</em> - the color to be copied from.</li>
</ul>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">copyFrom</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">color</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">format</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">(),</span>
                <span class="nx">channels</span> <span class="o">=</span> <span class="nx">FORMATS</span><span class="p">[</span><span class="nx">format</span><span class="p">].</span><span class="nx">channels</span><span class="p">,</span>
                <span class="nx">i</span><span class="p">,</span> <span class="nx">accessor</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">format</span><span class="p">()</span> <span class="o">!==</span> <span class="nx">format</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">color</span> <span class="o">=</span> <span class="nx">color</span><span class="p">[</span><span class="nx">format</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]();</span>
            <span class="p">}</span>
            <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">--</span><span class="p">;)</span> <span class="p">{</span>
                <span class="nx">accessor</span> <span class="o">=</span> <span class="nx">channels</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="p">;</span>
                <span class="k">this</span><span class="p">[</span><span class="nx">accessor</span><span class="p">](</span><span class="nx">color</span><span class="p">[</span><span class="nx">accessor</span><span class="p">]());</span>
            <span class="p">}</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-51">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-51">&#182;</a>               </div>               <h3>LESS/SASS-like APIs</h3>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-52">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-52">&#182;</a>               </div>               <h4>.mix(<em>color</em> [, <em>proportion</em> = 0.5])</h4>

<p>Mixes with another color using additive mixing.</p>

<p>Algorithm taken from
<a href="http://sass-lang.com/docs/yardoc/Sass/Script/Functions.html#mix-instance_method">SASS source code</a></p>

<h5>Parameters</h5>

<ul>
<li><em>color</em> - a color object to mix with the current one</li>
<li><em>proportion</em> - the proportion of the other color, ranging from 0 to 1.</li>
</ul>

<h5>Return values</h5>

<p>Returns a new color object in the same format as the original one.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">mix</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">color</span><span class="p">,</span> <span class="nx">proportion</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">dest</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgba</span><span class="p">(),</span>
                <span class="nx">src</span> <span class="o">=</span> <span class="nx">color</span><span class="p">.</span><span class="nx">rgba</span><span class="p">(),</span>
                <span class="nx">p</span> <span class="o">=</span> <span class="nx">proportion</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="mf">0.5</span> <span class="o">:</span> <span class="nx">proportion</span><span class="p">,</span>
                <span class="nx">w</span> <span class="o">=</span> <span class="nx">p</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nx">a</span> <span class="o">=</span> <span class="nx">dest</span><span class="p">.</span><span class="nx">a</span><span class="p">()</span> <span class="o">-</span> <span class="nx">src</span><span class="p">.</span><span class="nx">a</span><span class="p">(),</span>
                <span class="nx">w1</span> <span class="o">=</span> <span class="p">(((</span><span class="nx">w</span> <span class="o">*</span> <span class="nx">a</span> <span class="o">===</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">?</span> <span class="nx">w</span> <span class="o">:</span> <span class="p">(</span><span class="nx">w</span> <span class="o">+</span> <span class="nx">a</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="nx">w</span> <span class="o">*</span> <span class="nx">a</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
                <span class="nx">w2</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">w1</span><span class="p">;</span>
            <span class="nx">dest</span><span class="p">.</span><span class="nx">r</span><span class="p">(</span><span class="nx">dest</span><span class="p">.</span><span class="nx">r</span><span class="p">()</span> <span class="o">*</span> <span class="nx">w1</span> <span class="o">+</span> <span class="nx">src</span><span class="p">.</span><span class="nx">r</span><span class="p">()</span> <span class="o">*</span> <span class="nx">w2</span><span class="p">);</span>
            <span class="nx">dest</span><span class="p">.</span><span class="nx">g</span><span class="p">(</span><span class="nx">dest</span><span class="p">.</span><span class="nx">g</span><span class="p">()</span> <span class="o">*</span> <span class="nx">w1</span> <span class="o">+</span> <span class="nx">src</span><span class="p">.</span><span class="nx">g</span><span class="p">()</span> <span class="o">*</span> <span class="nx">w2</span><span class="p">);</span>
            <span class="nx">dest</span><span class="p">.</span><span class="nx">b</span><span class="p">(</span><span class="nx">dest</span><span class="p">.</span><span class="nx">b</span><span class="p">()</span> <span class="o">*</span> <span class="nx">w1</span> <span class="o">+</span> <span class="nx">src</span><span class="p">.</span><span class="nx">b</span><span class="p">()</span> <span class="o">*</span> <span class="nx">w2</span><span class="p">);</span>
            <span class="nx">dest</span><span class="p">.</span><span class="nx">a</span><span class="p">(</span><span class="nx">dest</span><span class="p">.</span><span class="nx">a</span><span class="p">()</span> <span class="o">*</span> <span class="nx">p</span> <span class="o">+</span> <span class="nx">src</span><span class="p">.</span><span class="nx">a</span><span class="p">()</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="nx">p</span><span class="p">));</span>
            <span class="k">return</span> <span class="nx">dest</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">().</span><span class="nx">toLowerCase</span><span class="p">()]();</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-53">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-53">&#182;</a>               </div>               <h4>.spin(<em>value</em>)</h4>

<p>Increases hue value (decreases if value is less than zero) or say spins the color wheel
clockwise by a given degree.</p>

<h5>Parameters</h5>

<ul>
<li><em>value</em> - the value that the color wheel will spin, in degree.</li>
</ul>

<h5>Return values</h5>

<p>Returns a new color object after spinning in the original format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">spin</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsla</span><span class="p">();</span>
            <span class="nx">color</span><span class="p">.</span><span class="nx">h</span><span class="p">((</span><span class="nx">color</span><span class="p">.</span><span class="nx">h</span><span class="p">()</span> <span class="o">+</span> <span class="nx">value</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">);</span>
            <span class="k">return</span> <span class="nx">color</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">().</span><span class="nx">toLowerCase</span><span class="p">()]();</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-54">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-54">&#182;</a>               </div>               <h4>.saturate(<em>value</em>)</h4>

<p>Increases saturation value. Saturation channel here defined by HSL model, not HSV.</p>

<h5>Parameters</h5>

<ul>
<li><em>value</em> - the amount that the saturation value will increase.</li>
</ul>

<h5>Return values</h5>

<p>Returns a new color object after increasing saturation in the original format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">saturate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsla</span><span class="p">();</span>
            <span class="nx">color</span><span class="p">.</span><span class="nx">s</span><span class="p">((</span><span class="nx">color</span><span class="p">.</span><span class="nx">s</span><span class="p">()</span> <span class="o">+</span> <span class="nx">value</span><span class="p">));</span>
            <span class="k">return</span> <span class="nx">color</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">().</span><span class="nx">toLowerCase</span><span class="p">()]();</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-55">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-55">&#182;</a>               </div>               <h4>.desaturate(<em>value</em>)</h4>

<p>Decreases saturation value. Saturation channel here defined by HSL model, not HSV.</p>

<h5>Parameters</h5>

<ul>
<li><em>value</em> - the amount that the saturation value will decrease.</li>
</ul>

<h5>Return values</h5>

<p>Returns a new color object after decreasing saturation in the original format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">desaturate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">saturate</span><span class="p">(</span><span class="mi">0</span> <span class="o">-</span> <span class="nx">value</span><span class="p">);</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-56">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-56">&#182;</a>               </div>               <h4>.lighten(<em>value</em>)</h4>

<p>Increases lightness value.</p>

<h5>Parameters</h5>

<ul>
<li><em>value</em> - the amount that the lightness value will the increase.</li>
</ul>

<h5>Return values</h5>

<p>Returns a new color object after increasing lightness in the original format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">lighten</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">hsla</span><span class="p">();</span>
            <span class="nx">color</span><span class="p">.</span><span class="nx">l</span><span class="p">((</span><span class="nx">color</span><span class="p">.</span><span class="nx">l</span><span class="p">()</span> <span class="o">+</span> <span class="nx">value</span><span class="p">));</span>
            <span class="k">return</span> <span class="nx">color</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">().</span><span class="nx">toLowerCase</span><span class="p">()]();</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-57">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-57">&#182;</a>               </div>               <h4>.darken(<em>value</em>)</h4>

<p>Decreases lightness value.</p>

<h5>Parameters</h5>

<ul>
<li><em>value</em> - the amount that the lightness value will the decrease.</li>
</ul>

<h5>Return values</h5>

<p>Returns a new color object after decreasing lightness in the original format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">darken</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">lighten</span><span class="p">(</span><span class="mi">0</span> <span class="o">-</span> <span class="nx">value</span><span class="p">);</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-58">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-58">&#182;</a>               </div>               <h4>.fadeIn(<em>value</em>)</h4>

<p>Increases alpha value, will add alpha channel to those don't have it.</p>

<h5>Parameters</h5>

<ul>
<li><em>value</em> - the amount that the alpha value will the increase.</li>
</ul>

<h5>Return values</h5>

<p>Returns a new color object after increasing alpha in the original format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fadeIn</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">format</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">a</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">()</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">format</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span>
                <span class="nx">color</span> <span class="o">=</span> <span class="k">this</span><span class="p">[</span><span class="nx">format</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">()]();</span>
            <span class="k">return</span> <span class="nx">color</span><span class="p">.</span><span class="nx">a</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">a</span><span class="p">()</span> <span class="o">+</span> <span class="nx">value</span><span class="p">);</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-59">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-59">&#182;</a>               </div>               <h4>.fadeOut(<em>value</em>)</h4>

<p>Decreases alpha value, will add alpha channel to those don't have it.</p>

<h5>Parameters</h5>

<ul>
<li><em>value</em> - the amount that the alpha value will the decrease.</li>
</ul>

<h5>Return values</h5>

<p>Returns a new color object after decreasing alpha in the original format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">fadeOut</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">fadeIn</span><span class="p">(</span><span class="mi">0</span> <span class="o">-</span> <span class="nx">value</span><span class="p">);</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-60">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-60">&#182;</a>               </div>               <h4>.grayscale()</h4>

<p>Returns the grayscale color by decreasing saturation(HSL) of the current color to 0.</p>

<h5>Return values</h5>

<p>Returns a new grayscaled color object in the original format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">grayscale</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">desaturate</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-61">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-61">&#182;</a>               </div>               <h4>.complement()</h4>

<p>Returns the complement of the current color by spinning the color wheel for 180 degrees.</p>

<h5>Return values</h5>

<p>Returns a new complement color object the original format.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">complement</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">spin</span><span class="p">(</span><span class="mi">180</span><span class="p">);</span>
        <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-62">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-62">&#182;</a>               </div>               <h4>.luminance()</h4>

<p>Returns the luminance of a color which indicates how bright the reflecting surface will
appear. See <a href="http://www.w3.org/TR/WCAG20/#relativeluminancedef">relative luminance, Web Content Accessibility Guidelines (WCAG) 2.0</a>.</p>

<h5>Return values</h5>

<p>The calculated luminance value.</p>             </td>             <td class="code">               <div class="highlight"><pre>
        <span class="nx">kolor</span><span class="p">[</span><span class="nx">key</span><span class="p">].</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">luminance</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="kd">function</span> <span class="nx">convert</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">value</span> <span class="o">/=</span> <span class="mi">255</span><span class="p">;</span>
                <span class="k">return</span> <span class="nx">value</span> <span class="o">&lt;=</span> <span class="mf">0.03928</span> <span class="o">?</span> <span class="nx">value</span> <span class="o">/</span> <span class="mf">12.92</span> <span class="o">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">((</span><span class="nx">value</span> <span class="o">+</span> <span class="mf">0.055</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1.055</span><span class="p">,</span> <span class="mf">2.4</span><span class="p">);</span>
            <span class="p">}</span>
            
            <span class="kd">var</span> <span class="nx">color</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">rgb</span><span class="p">(),</span>
                <span class="nx">R</span> <span class="o">=</span> <span class="nx">convert</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">r</span><span class="p">()),</span>
                <span class="nx">G</span> <span class="o">=</span> <span class="nx">convert</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">g</span><span class="p">()),</span>
                <span class="nx">B</span> <span class="o">=</span> <span class="nx">convert</span><span class="p">(</span><span class="nx">color</span><span class="p">.</span><span class="nx">b</span><span class="p">());</span>

            <span class="k">return</span> <span class="mf">0.2126</span> <span class="o">*</span> <span class="nx">R</span> <span class="o">+</span> <span class="mf">0.7152</span> <span class="o">*</span> <span class="nx">G</span> <span class="o">+</span> <span class="mf">0.0722</span> <span class="o">*</span> <span class="nx">B</span><span class="p">;</span>
        <span class="p">};</span>

    <span class="p">}</span>

</pre></div>             </td>           </tr>                               <tr id="section-63">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-63">&#182;</a>               </div>               <h3>kolor utilities</h3>             </td>             <td class="code">               <div class="highlight"><pre>

</pre></div>             </td>           </tr>                               <tr id="section-64">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-64">&#182;</a>               </div>               <h4>kolor.random(<em>options</em>) [unstable API]</h4>

<p>Generates a random color or color set. Colors are generated in HSL format
and different colors will have different hue values and these colors are
distributed uniformly across the specified hue range.</p>

<h5>Parameters</h5>

<p><em>options</em> - a map consists of the options for the random procedure.</p>

<ul>
<li><p><em>size</em> - Number, <code>1</code> by default.</p>

<p>The number of colors to generate.</p></li>
<li><p><em>h</em> - Array, <code>[0, 360]</code> by default.</p>

<p>The range of hue value.</p></li>
<li><p><em>s</em> - Number | Array, <code>[0, 1]</code> by default.</p>

<p>The range of saturation. If set to a number, use this fixed value.</p></li>
<li><p><em>l</em> - Number | Array, <code>[0, 1]</code> by default.</p>

<p>The range of lightness. If set to a number, use this fixed value.</p></li>
<li><p><em>format</em> - String, <code>"hex"</code> by default.</p>

<p>The output format for the generated color(s). Available values include</p>

<p><code>hex</code>, <code>css</code> and format names defined in <code>FORMATS</code>, which are
case-insensitive.</p></li>
<li><p><em>shuffle</em> - Boolean, <code>true</code> by default.</p>

<p>If the output array should be shuffled.</p></li>
</ul>

<h5>Return values</h5>

<p>If size is undefined or 1, returns a random color in the specified format.
Otherwise, returns an array such colors.</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">kolor</span><span class="p">.</span><span class="nx">random</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">options</span> <span class="o">=</span> <span class="nx">options</span> <span class="o">||</span> <span class="p">{};</span>

        <span class="kd">function</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">defaultValue</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">value</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">?</span> <span class="nx">value</span> <span class="o">:</span> <span class="nx">defaultValue</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">size</span> <span class="o">||</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">h</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">h</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">360</span><span class="p">]),</span>
            <span class="nx">interval</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(((</span><span class="mi">360</span> <span class="o">+</span> <span class="p">(</span><span class="nx">h</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span> <span class="o">%</span> <span class="mi">360</span> <span class="o">||</span> <span class="mi">360</span><span class="p">)</span> <span class="o">/</span> <span class="nx">size</span><span class="p">),</span>
            <span class="nx">offset</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nx">interval</span><span class="p">,</span>
            <span class="nx">s</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">s</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
            <span class="nx">l</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">l</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
            <span class="nx">a</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">a</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="nx">shuffle</span> <span class="o">=</span> <span class="nx">getValue</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">shuffle</span><span class="p">,</span> <span class="kc">true</span><span class="p">),</span>
            <span class="nx">format</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">format</span> <span class="o">||</span> <span class="s1">&#39;hex&#39;</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">(),</span>
            <span class="nx">colors</span> <span class="o">=</span> <span class="p">[],</span>
            <span class="nx">color</span><span class="p">,</span> <span class="nx">i</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">interval</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;To many colors for this hue range!&#39;</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">size</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">color</span> <span class="o">=</span> <span class="nx">kolor</span><span class="p">.</span><span class="nx">hsla</span><span class="p">(</span>
                <span class="p">(</span><span class="mi">360</span> <span class="o">+</span> <span class="nx">h</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nx">interval</span> <span class="o">*</span> <span class="nx">i</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">,</span>
                <span class="nx">s</span><span class="p">.</span><span class="nx">length</span> <span class="o">?</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">random</span><span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">s</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">:</span> <span class="nx">s</span><span class="p">,</span>
                <span class="nx">l</span><span class="p">.</span><span class="nx">length</span> <span class="o">?</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">random</span><span class="p">(</span><span class="nx">l</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">l</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">:</span> <span class="nx">l</span><span class="p">,</span>
                <span class="nx">a</span><span class="p">.</span><span class="nx">length</span> <span class="o">?</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">random</span><span class="p">(</span><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">:</span> <span class="nx">a</span>
            <span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">format</span> <span class="o">==</span> <span class="s1">&#39;hex&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">color</span> <span class="o">=</span> <span class="nx">color</span><span class="p">.</span><span class="nx">hex</span><span class="p">();</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">format</span> <span class="o">==</span> <span class="s1">&#39;css&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">color</span> <span class="o">=</span> <span class="nx">color</span><span class="p">.</span><span class="nx">css</span><span class="p">();</span>
            <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">utils</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">FORMATS</span><span class="p">,</span> <span class="nx">format</span><span class="p">.</span><span class="nx">toUpperCase</span><span class="p">()))</span> <span class="p">{</span>
                <span class="nx">color</span> <span class="o">=</span> <span class="nx">color</span><span class="p">[</span><span class="nx">format</span><span class="p">]();</span>
            <span class="p">}</span>
            <span class="nx">colors</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">color</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="p">(</span><span class="nx">size</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="p">}</span>

        <span class="nx">shuffle</span> <span class="o">&amp;&amp;</span> <span class="nx">utils</span><span class="p">.</span><span class="nx">shuffle</span><span class="p">(</span><span class="nx">colors</span><span class="p">);</span>
        <span class="k">return</span> <span class="nx">colors</span><span class="p">;</span>
    <span class="p">};</span>

</pre></div>             </td>           </tr>                               <tr id="section-65">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-65">&#182;</a>               </div>               <p>Everything is ready, expose to outer scope</p>             </td>             <td class="code">               <div class="highlight"><pre>
    <span class="nx">scope</span><span class="p">[</span><span class="s2">&quot;kolor&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">kolor</span><span class="p">;</span>

<span class="p">})(</span><span class="k">this</span><span class="p">);</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 